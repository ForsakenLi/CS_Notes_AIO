## Interview Notes

1. TCP / IP：复习使用的书籍《TCP/IP详解》，各种blog
   1. TCP，IP，UDP基本头部
   2. TCP为啥三次握手/四次挥手；对应的状态迁移
   3. TCP的各种状态位，什么时候有用
   4. TCP的3种定时器，TCP的长肥管道问题
   5. 流量控制 & 拥塞控制 & MSS
   6. 半连接，全连接
   7. Time wait; 为啥Time wait；大量短连接怎么处理
   8. TCP vs UDP
   9. HTTP协议基本，以及1.0/1.1/2.0/3.0对比
   10. HTTPS，和Http对比；握手；数字证书；对称加密非对称加密
```
1) 客户端发起一个http请求，连接到服务器的443端口。
2）服务端把自己的信息以数字证书的形式返回给客户端（证书内容有密钥公钥，网站地址，证书颁发机
构，失效日期等）。证书中有一个公钥来加密信息，私钥由服务器持有。
3）验证证书的合法性
客户端收到服务器的响应后会先验证证书的合法性（证书中包含的地址与正在访问的地址是否一致，证书
是否过期）。
首先应用程序读取证书中的Issuer（发布机构），然后会在操作系统或浏览器内置的受信任的发布机构中
去找该机构的证书。如果找不到就说明证书是水货，证书有问题，程序给错误信息。如果找到了，或用户
确认使用该证书。就会拿上级证书的公钥，解密本级证书，得到数字指纹。然后对本级证书的公钥进行数
字摘要算法（证书中提供的指纹加密算法）计算结果，与解密得到的指纹对比。如果一样，说明证书没有
被修改过。公钥可以放心使用，可以开始握手通信了。
4）生成随机密码（RSA签名）
如果验证通过，或用户接受了不受信任的证书，浏览器就会生成一个随机的对称密钥（session key）并用
公钥加密，让服务端用私钥解密，解密后就用这个对称密钥进行传输了，并且能够说明服务端确实是私钥
的持有者。
5）生成对称加密算法
验证完服务端身份后，客户端生成一个对称加密的算法和对应密钥，以公钥加密之后发送给服务端。此时
被黑客截获也没用，因为只有服务端的私钥才可以对其进行解密。之后客户端与服务端可以用这个对称加
密算法来加密和解密通信内容了。
```
   11. DNS，递归/迭代查询；什么时候UDP，什么时候TCP
   12. ARP，arp广播，arp代理
   13. ICMP (比较偏)，ping，traceroute
   14. socket编程客户端/服务端的几个函数，以及对应参数
   15. IO多路复用select，poll，epoll区别/优劣，epoll的两种模式
       1. select为啥有个1024的限制，32*i32
       2. epoll线程安全
       3. reactor vs proactor
2. OS: 复习使用的书籍《现代操作系统》
   1. 虚拟内存(必问)：MMU/TLB，多级页表，内存分配（slab，伙伴)
   2. 进程&线程基本概念，PCB包含什么，进程内存模型，TCB
   3. 进程间通信
      1. 基本概念，原理
      2. 通信效率，是否设计系统调用
   4. 死锁，条件，检测/恢复/预防
   5. 同步，原子操作，CAS&FAA，互斥锁，条件变量，RCU
   6. 底层IO模型，阻塞，非阻塞，信号，多路复用，异步
   7. 多线程vs多进程；同一进程线程切换，不同进程线程切换；
   8. 协程vs线程
   9. inode，软连接、硬链接，文件描述符
   10. 零拷贝
3. 数据库  复习使用的课程《mysql实战45讲》+ blog
   1. mysql架构，server层 + 引擎层；
      1. 连接器，查询缓存，分析器，优化器，执行器
      2. 两种存储引擎的对比
   2. redo log vs binlog vs undo log，这块可以问得可深了...
      1. redolog为啥crash safe, binlog为啥不是
      2. 如何恢复数据
      3. 何时刷新log/数据
      4. https://juejin.cn/post/6855129007336521741
   3. 索引
      1. B+树 vs B树
      2. 唯一索引vs普通索引
      3. 聚簇 vs 非聚簇
      4. 最左前缀匹配，给你个sql让你分析
      5. 回表/覆盖索引
      6. 索引设计
      7. explain
   4. 事务，隔离级别（默认），脏读/不可重复读/幻读
   5. MVCC，什么时候生成read view；如何判断哪些事务可见
   6. 锁（加锁才能实际解决幻读）
      1. 两阶段锁
      2. record lock，gap lock， next key lock
   7. 数据库优化，读写分离，主从，分库分表等等
   8. 范式
   9. 手写嵌套查询
      1. 如何设计索引
      2. 执行顺序
   10. 给你个sql，让你分析如何加索引，使用了什么索引
4. 语言基础 (C++, Go) https://github.com/huihut/interview + C++ primer plus
   1. 几种时期多态，虚函数表(最基本, 多重继承)
   2. 智能指针 & 手写最简单的智能指针
   3. C++的内存分布/ 内存对齐
   4. static / const
   5. C++11，右值，转移语义，lambda等等
   6. ...
   7. Go语言 GMP模型
   8. 线程池，内存池 (比较偏)
5. Redis
   1. 基本数据结构底层，大数据量和小数据量情况下不同的数据类型；
      1. sds
      2. 跳表
      3. ziplist，有啥好处
      4. hash，渐进式hash，rehash
      5. intset，提升
   2. 为啥快？基于内存，多路复用，单线程事件分配器
   3. 大key问题；慢日志
   4. 缓存穿透，击穿，雪崩；如何处理
   5. redis分布式锁，单机版&分布式版
   6. redis持久化，AOF vs RDB
   7. redis主从流程
6. 消息队列：没复习，但经常会问
7. 数据结构 《STL源码剖析》+ blog
   1. vector底层
      1. 扩容
      2. 迭代器失效
   2. hashmap底层
   3. 树，**二叉树，avl，红黑树，B+树，B树，LSM树
      1. avl vs 红黑树
      2. B+树 vs B树
8. 设计模式 《大话设计模式》
   1. 手写单例 (必问)
   2. 简单工厂，工厂方法...
9.  linux 常用指令
   3. grep
   4. sed
   5. find
   6. iostat/netstat
   7. top
10. 分布式
    1. CAP， BASE
    2. 分布式事务，两阶段，三阶段
    3. Raft 基本流程，选主，日志复制，脑裂之后流程
    4. 一致性hash
